# =============================================================================
# ENVOYOU CEVS API - ENVIRONMENT CONFIGURATION
# =============================================================================
# Last Updated: September 4, 2025
# Environment: Development
# =============================================================================

# --- GENERAL SERVER CONFIGURATION ---
PORT=8000
LOG_LEVEL=DEBUG
LOG_FORMAT=json
ENVIRONMENT=development
DEBUG=true
TESTING=false
SECRET_KEY=your_flask_secret_key_here_change_this_in_production

# --- CORS CONFIGURATION ---
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================

# --- API KEYS & AUTHENTICATION ---
API_KEYS=demo_key_basic_2025:Demo Client Basic:basic,demo_key_premium_2025:Demo Client Premium:premium
MASTER_API_KEY=your_super_secret_master_key_change_this_in_production

# --- JWT CONFIGURATION ---
JWT_SECRET_KEY=your_super_secret_jwt_key_here_change_this_32_chars_min
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# --- ENCRYPTION ---
ENCRYPTION_KEY=your_32_character_encryption_key_here
SESSION_SECRET=your_session_secret_here_change_this

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# --- DATABASE SETTINGS ---
DB_TYPE=postgresql
DB_HOST=localhost
DB_PORT=5432
DB_NAME=permit_api_db
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_SSL_MODE=prefer
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# --- DATABASE URL (Alternative to individual settings) ---
# DB_URL=postgresql://user:password@localhost:5432/permit_api_db

# =============================================================================
# CACHING & PERFORMANCE
# =============================================================================

# --- REDIS CONFIGURATION ---
REDIS_URL=redis://localhost:6379
REDIS_DB=0
REDIS_PASSWORD=
CACHE_TTL=3600
CACHE_ENABLED=true

# --- PERFORMANCE SETTINGS ---
MAX_WORKERS=4
ASYNC_TIMEOUT=300
BATCH_SIZE=100
CONCURRENT_REQUESTS=5
API_TIMEOUT=30
API_MAX_RETRIES=3
API_RETRY_DELAY=1

# =============================================================================
# EXTERNAL API CONFIGURATION
# =============================================================================

# --- EPA CAMD (Clean Air Markets Program Data) ---
CAMPD_API_KEY=nANGR3eBqPq0agXJH3X0LFTk0YxbMICAfc9jOKgT
CAMPD_API_BASE_URL=https://api.epa.gov/easey
CAMPD_RATE_LIMIT=1000

# --- EIA (U.S. Energy Information Administration) ---
EIA_API_KEY=P58wd4mdLJ1wmyVz9g15aQryMuS32zlWVtJz4IcO
EIA_API_BASE_URL=https://api.eia.gov/v2/
EIA_RATE_LIMIT=1000

# --- AIRNOW ---
AIRNOW_API_KEY=72965683-08D9-40D7-9FF9-241726DCEE8E
AIRNOW_API_BASE_URL=https://api.airnow.gov/
AIRNOW_RATE_LIMIT=500

# --- AMDALNET (Indonesian Environmental Permits) ---
AMDALNET_API_KEY=
AMDALNET_API_URL=https://amdalnet.kemenlh.go.id

# --- EEA (European Environment Agency) ---
EEA_API_BASE_URL=https://eeadmz1-downloads-api-appservice.azurewebsites.net/api/v1/public
EEA_RATE_LIMIT=100

# --- EDGAR (Global Greenhouse Gas Emissions) ---
EDGAR_API_BASE_URL=https://edgar.jrc.ec.europa.eu/api/v1
EDGAR_RATE_LIMIT=100

# --- ADDITIONAL DATA SOURCES ---
GOOGLE_MAPS_API_KEY=
OPENWEATHER_API_KEY=
WORLD_BANK_API_KEY=
UNEP_API_KEY=

# =============================================================================
# DATA SOURCE PATHS (Local Files)
# =============================================================================

# --- EXCEL DATA FILES ---
EDGAR_XLSX_PATH=reference/EDGAR_emiss_on_UCDB_2024.xlsx
ISO_XLSX_PATH=reference/list_iso.xlsx
POLICY_XLSX_PATH=reference/Annex III_Best practices and justifications.xlsx

# --- UPLOAD CONFIGURATION ---
UPLOAD_PATH=uploads/
MAX_FILE_SIZE=10485760
ALLOWED_EXTENSIONS=pdf,xlsx,csv,json,txt

# =============================================================================
# CEVS & BUSINESS LOGIC CONFIGURATION
# =============================================================================

# --- CEVS SCORING ---
CEVS_POLLUTION_SOURCE=auto
CEVS_MAX_SCORE=100
CEVS_MIN_SCORE=0
CEVS_ISO_WEIGHT=30
CEVS_EMISSIONS_WEIGHT=40
CEVS_COMPLIANCE_WEIGHT=30

# --- DATA QUALITY ---
DATA_VALIDATION_ENABLED=true
QUALITY_CHECK_ENABLED=true
OUTLIER_DETECTION=true
DATA_FRESHNESS_HOURS=24

# =============================================================================
# RATE LIMITING & MONITORING
# =============================================================================

# --- RATE LIMITING ---
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60
ENABLE_METRICS=true
PROMETHEUS_PORT=9090

# --- MONITORING ---
SENTRY_DSN=
ENABLE_ERROR_TRACKING=false
LOG_TO_FILE=true
LOG_FILE=logs/app.log

# =============================================================================
# EMAIL & NOTIFICATIONS
# =============================================================================

# --- SMTP CONFIGURATION ---
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
FROM_EMAIL=noreply@yourapp.com
SMTP_USE_TLS=true

# --- NOTIFICATIONS ---
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# --- BACKUP SETTINGS ---
BACKUP_ENABLED=true
BACKUP_PATH=backups/
BACKUP_FREQUENCY=daily
RETENTION_DAYS=30
BACKUP_COMPRESSION=true

# =============================================================================
# API DOCUMENTATION
# =============================================================================

# --- OPENAPI/SWAGGER ---
API_DOCS_ENABLED=true
API_DOCS_URL=/docs
API_REDOC_URL=/redoc
OPENAPI_VERSION=3.0.3
API_TITLE=Envoyou CEVS Aggregator API
API_DESCRIPTION=Production API for environmental data verification and compliance checking
API_VERSION=1.0.0

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# --- DEVELOPMENT TOOLS ---
ENABLE_SWAGGER_UI=true
ENABLE_REDOC=true
AUTO_RELOAD=true
RELOAD_DELAY=0.5

# --- TESTING ---
TEST_DATABASE_URL=sqlite:///./test.db
TEST_API_KEY=test_key_for_unit_tests_only
MOCK_EXTERNAL_APIS=true

# =============================================================================
# LEGACY COMPATIBILITY (DO NOT MODIFY)
# =============================================================================

# EIA API Key for data fallback (legacy)
EIA_API_KEY=KUNCI_API_ANDA_DI_SINI

# =============================================================================
# END OF CONFIGURATION
# =============================================================================
